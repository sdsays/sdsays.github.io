<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-07-29 Mon 22:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>An Introduction to GNU/Linux Commandline Interface</title>
<meta name="author" content="sd" />
<meta name="generator" content="Org Mode" />

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Hanuman|Georgia|Helvetica|monospace">
<link rel="stylesheet" type="text/css" href="/static/gongzhitaao.css"/>
<link rel="stylesheet" type="text/css" href="/static/sd.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2RVEM8DBHH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2RVEM8DBHH');
</script>
</head>
<body>
<div id="preamble" class="status">
<h1 id="site-title">śaṅkaradāsa</h1>
<div id="nav">
  <a href="/">About</a> |
  <a href="/vedanta">Vedãnta</a> |
  <a href="/lignux">LiGNUx</a>
</div>
</div>
<div id="content" class="content">
<h1 class="title">An Introduction to GNU/Linux Commandline Interface</h1>

<div id="outline-container-org41c5234" class="outline-2">
<h2 id="org41c5234"><span class="section-number-2">1.</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
A 'personal' computer is intended to provide user interaction. The user executes some program which runs on top of the computer's operating system and get the output. There are two types of interfaces available to do your work:
</p>
<ul class="org-ul">
<li>Graphical (User) Interface (GUI): Stuff like you click some icon which invokes the related program or does some work in an already running application. This is available through a Desktop Environment</li>
<li>Commandline Interface: Stuff like you type in some command and invoke the related program. This is available through a program named shell</li>
</ul>

<blockquote>
<p>
An Operating system sits between your applications and computer hardware. It virtualizes and protects the hardware resources so that multiple process can run concurrently and safely.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org7686a35" class="outline-2">
<h2 id="org7686a35"><span class="section-number-2">2.</span> Why Commandline?</h2>
<div class="outline-text-2" id="text-2">
<p>
Why do we need commandline when GUI is available? The kind of work you can perform with commandline, you can't do that with GUI or do that efficiently. This is because a GUI is designed to cater some specific purposes and all the generalizations can't be met. For example, you want to list all the images of size greater than 8MB and move them into a separate dir? Think of it for a moment, how would you do it in GUI? With commandline, things like these are easy with the availability of myriad programs, its ability of argument parsing and other shell facilities (PIPE, shell expansion etc.). Nonetheless, GUI has its own place, but the kind of power you get as a user with commandline is indispensable!
</p>

<blockquote>
<p>
once a commandline user, always a commandline user!
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org5ebc5e0" class="outline-2">
<h2 id="org5ebc5e0"><span class="section-number-2">3.</span> Shell and Terminal Emulator</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgb67c0ca" class="outline-3">
<h3 id="orgb67c0ca"><span class="section-number-3">3.1.</span> Shell</h3>
<div class="outline-text-3" id="text-3-1">
<p>
A shell is basically a programming language. When you invoke the shell interpreter interactively, it becomes a commandline interface. So, shell is a generic term. This means that you can have a shell with any interpreted programming language i.e. python shell, tcl shell.
</p>

<p>
For their rich set of features for commandline interface, following different shells are available on GNU/Linux systems:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">shell</th>
<th scope="col" class="org-left">about</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">sh</td>
<td class="org-left">Bourne shell, first one to be released with Unix</td>
</tr>

<tr>
<td class="org-left">bash</td>
<td class="org-left">Bourne-Again shell, incorporates features from csh and ksh</td>
</tr>

<tr>
<td class="org-left">csh</td>
<td class="org-left">C shell, BSD default shell</td>
</tr>

<tr>
<td class="org-left">tcsh</td>
<td class="org-left">Improved csh</td>
</tr>

<tr>
<td class="org-left">ksh</td>
<td class="org-left">Korn shell</td>
</tr>

<tr>
<td class="org-left">zsh</td>
<td class="org-left">Extended Bourne shell including useful features from tcsh and ksh</td>
</tr>
</tbody>
</table>

<p>
Among these bash shell is the default on most GNU/Linux distributions. But, zsh is becoming popular too.
</p>

<blockquote>
<p>
If you don't have a running GNU/Linux system, install one. Debian is a good choice.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgd2baa9a" class="outline-3">
<h3 id="orgd2baa9a"><span class="section-number-3">3.2.</span> Terminal Emulator</h3>
<div class="outline-text-3" id="text-3-2">
<p>
A terminal emulator is a graphical window embedding a shell program. There are different terminal emulators which come pre-installed with different desktop environments:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Desktop Environment</th>
<th scope="col" class="org-left">Name of Terminal Emulator</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Gnome</td>
<td class="org-left">Terminal</td>
</tr>

<tr>
<td class="org-left">KDE</td>
<td class="org-left">Konsole</td>
</tr>

<tr>
<td class="org-left">LXDE</td>
<td class="org-left">lxterminal</td>
</tr>

<tr>
<td class="org-left">XFCE</td>
<td class="org-left">xfce4-terminal</td>
</tr>
</tbody>
</table>

<p>
In case of interest, read more about Computer Terminal
</p>

<p>
This tutorial uses bash on Gnome Terminal.
</p>
</div>
</div>
</div>

<div id="outline-container-orgb410241" class="outline-2">
<h2 id="orgb410241"><span class="section-number-2">4.</span> Commandline Syntax</h2>
<div class="outline-text-2" id="text-4">
<p>
There is a POSIX Standard for command line interface. So, all standard commands (or say utilities) follow a general syntax:
</p>

<div class="org-src-container">
<pre class="src src-bash">utility_name[-a][-b][-c option_argument] [-d|-e][-f[option_argument]][operand...]
</pre>
</div>

<p>
Commands accept options (flags or with arguments) and operands. There are short options (single character) with single hyphen (-) and long options (strings) with two hyphens (–). If it is not making sense, worry not, shortly, it will.
</p>
</div>
</div>

<div id="outline-container-org8324659" class="outline-2">
<h2 id="org8324659"><span class="section-number-2">5.</span> A word on Filesystem</h2>
<div class="outline-text-2" id="text-5">
<p>
Before we move on, let's look at how files are organized on a Unix like system (yes, GNU/Linux is not Unix but is Unix like). There is a standard named Filesystem Hierarchy Standard (FHS) for this. GNU/Linux follows everything is a file philosophy. Filesystem is laid out in a tree like structure. The root of the tree starts with / and paths are separated by / only. So, all files (regular), directories, devices appear in a single tree irrespective of the underlying physical location. For example, <i>bin, /home/gv</i>, /dev/audio are paths in a filesystem.
</p>
</div>
</div>

<div id="outline-container-orge08c241" class="outline-2">
<h2 id="orge08c241"><span class="section-number-2">6.</span> Running a command</h2>
<div class="outline-text-2" id="text-6">
<p>
Let's enter our first command:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ ps
</pre>
</div>

<p>
Here ps is the command and $ is the shell prompt. ps command reports the snapshot of the current processes. A new shell, displays following output with ps command:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ ps
  PID TTY          TIME CMD
23320 pts/5    00:00:00 bash
23391 pts/5    00:00:00 ps
</pre>
</div>

<p>
Note that the process with PID (process id) 23320 is the shell itself! So, one way (may not be the best) to figure out which shell you are running by looking at the ps output and checking CMD column.
</p>
</div>
</div>

<div id="outline-container-orga345669" class="outline-2">
<h2 id="orga345669"><span class="section-number-2">7.</span> The PATH Environment Variable</h2>
<div class="outline-text-2" id="text-7">
<p>
When we run any command, an executable file (some program on disk) gets run actually. So, when we ran ps command, a file named ps got run. Where is the file located and how did the shell figure out its location? which command tells the location of the file:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ which ps                      <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">/bin/ps</span>
</pre>
</div>

<p>
You see that ps is located under <i>bin</i> but we are able to call it with just the name and not the complete path. How? When we execute any command, shell searches for the executable file under all dirs (directories) listed in PATH environment variable.
</p>

<p>
Let's display PATH variable:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ echo $<span style="font-weight: bold; font-style: italic;">PATH</span>                    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games</span>
</pre>
</div>

<p>
So, shell searches all dirs separated by colon and in priority (i.e. if there is same file in <i>usr/bin</i> and <i>bin</i>, file under <i>usr/bin</i> will be executed). Here, echo command displays any string given to it. Note that first $ is part of prompt, but $ in $PATH dereferences the PATH environment variable. You may display all environment variables with env command:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ env
</pre>
</div>
</div>
</div>

<div id="outline-container-org752b284" class="outline-2">
<h2 id="org752b284"><span class="section-number-2">8.</span> stdin, stdout, stderr</h2>
<div class="outline-text-2" id="text-8">
<p>
Three file descriptors are open by default for any process unless you explicitly close them. These are:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">file descriptor(fd)</th>
<th scope="col" class="org-left">assignment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">0</td>
<td class="org-left">standard input (stdin)</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-left">standard output (stdout)</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-left">standard error (srderr)</td>
</tr>
</tbody>
</table>

<p>
Normally, stdin is linked to keyboard, and, stdout/stderr to the screen. stdout is for general output, and stderr, as the name suggests, for errors/warnings in the program.
</p>

<p>
So, the commands we execute, take inputs from fd 0, and shows results on fds 1 and 2.
</p>

<p>
Why this sudden talk? March on to PIPE and Redirection…
</p>
</div>
</div>

<div id="outline-container-org7692ee4" class="outline-2">
<h2 id="org7692ee4"><span class="section-number-2">9.</span> PIPE and Redirection</h2>
<div class="outline-text-2" id="text-9">
<p>
One of the powerful features of shell is commands chaining i.e. output of one can be fed into input of another command and so on and so forth. This facility is provided by PIPE ("|"). General syntax is:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ cmd1 | cmd2 ...
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">or,</span>
$ cmd1 |&amp; cmd2 ...
</pre>
</div>

<p>
With “|” only stdout is connected to stdin of cmd2, but, with “|&amp;” both stdout and sdterr of cmd1 is connected to stdin of cmd2.
</p>

<p>
For example, to count the lines of code of a python project:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ find . -name <span style="font-style: italic;">'*.py'</span> | xargs wc -l
</pre>
</div>

<p>
Here, first find command finds all the python files (ending with .py extension) in the current working directory (explained below) and the output is fed to another program named wc (wc – print newline, word, and byte counts for each file) which with -l option shows the total line counts. You see that separating stdout and stderr is a good design. In example above, if find throws any warning messages (to stderr), they can be displayed on shell without effecting stream being fed to wc.
</p>

<p>
Command's output can be redirected to a file with the redirection operator (&gt; and &gt;&amp;) with ‘&amp;' carrying similar meaning. e.g.
</p>

<div class="org-src-container">
<pre class="src src-bash">$ echo <span style="font-style: italic;">"Shivohum"</span> &gt; some_file
</pre>
</div>
</div>
</div>

<div id="outline-container-org5a0d5cb" class="outline-2">
<h2 id="org5a0d5cb"><span class="section-number-2">10.</span> Shell Expansion</h2>
<div class="outline-text-2" id="text-10">
<p>
In above find example, shell searches for all python files as *.py. Such expansion is another powerful feature of shell i.e. shell after tokenizing the commandline, performs possible expansion. For example, ~ gets expanded to user's home directory, *.py matches all the files having .py extension, etc.
Users and Permissions
</p>

<p>
GNU/Linux provides a multi-user environment i.e. many users can be simultaneously logged on to the same system and working seamlessly. However, there is single root user. You may check your username and users who are logged into the system with who commands:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ whomai
$ who
</pre>
</div>

<p>
You might be thinking if there is a common disk and a common filesystem, how is this seamlessness maintained? Permissions! Each file (remember, everything is a file) has three kinds of access rights: read(r), write(w) and execute(x), each for three different categories: user (owner of the file), file group and others. This is defined by 9 bits and are represented as 3 octal digits which are arranged as:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Owner(rwx)</td>
<td class="org-left">Group(rwx)</td>
<td class="org-left">Others(rwx)</td>
</tr>
</tbody>
</table>

<p>
Any permission which is missing for a particular category is denoted by "-". Example:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ ls -l /bin/ps
-rwxr-xr-x 1 root root 127K Jul 13 16:50 /bin/ps
</pre>
</div>

<ul class="org-ul">
<li>Initial - says it is a file not a directory. In case of directory, it would be d</li>
<li>Next triplet rwx says that the owner has full permissions to read, write and execute</li>
<li>Middle triplet r-x says that groups members can read and execute file but can't write to it</li>
<li>Last triplet r-x carries same information as groups for others</li>
</ul>

<p>
Instead of rwx, another way of denoting permissions is with octal digits. For above example, it would be: 0755. Initial 0 signifying octal number.
</p>
</div>
</div>

<div id="outline-container-org60395d0" class="outline-2">
<h2 id="org60395d0"><span class="section-number-2">11.</span> Notion of current working directory and navigation</h2>
<div class="outline-text-2" id="text-11">
<p>
Every process has a notion of current working directory (cwd). You may check the cwd of your shell with pwd (print working directory) command:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ pwd
</pre>
</div>

<p>
There is an environment variable PWD which reflects cwd and gets updated as you navigate in the filesystem with cd (change directory) command. cd changes the working directory. It may take absolute pathname (e.g. <i>opt</i>) or path relative to cwd. Relative navigation from cwd is achieved with two special files found in every directory:
</p>

<ul class="org-ul">
<li>. (dot): denotes current directory</li>
<li>.. (double dots): denotes parent directory</li>
</ul>

<p>
Few examples:
</p>
<div class="org-src-container">
<pre class="src src-bash">$ cd ~                          <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">cd to home directory with shell expansion</span>
$ cd /home/gv                   <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">explicit cd to home dir. Your username might differ:)</span>
$ cd ./../..                    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">go two levels above from cwd</span>
</pre>
</div>

<p>
try it!
</p>
</div>
</div>

<div id="outline-container-org822b450" class="outline-2">
<h2 id="org822b450"><span class="section-number-2">12.</span> Getting help</h2>
<div class="outline-text-2" id="text-12">
<p>
There are info/manual (help) pages available for commands, so it is a good practice to leverage that. You can pull info page with info command:
</p>
<div class="org-src-container">
<pre class="src src-bash">$ info ps                       <span style="font-weight: bold; font-style: italic;">#  </span><span style="font-weight: bold; font-style: italic;">Type 'q' to exit info screen.</span>
</pre>
</div>

<p>
Additionally, you may get command's options help with &#x2013;help:
</p>

<div class="org-src-container">
<pre class="src src-bash">$ ps --help                     <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">i.e. command --help</span>
</pre>
</div>

<p>
This concludes our discussion and we have just scratched the surface. The intent has been to give you the basics with a hope that it steers you in the right direction.
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="footer">
  <p>Generated using Emacs Org-Mode</p>
  <div id="nav">
    <span>
      &copy sdsays <script>document.write(new Date().getFullYear())</script>.
      <a href="https://www.github.com/sdsays"><i class="fab fa-github-square"></i></a>
    </span>
  </div>
</div>
</div>
</body>
</html>
